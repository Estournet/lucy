{"version":3,"sources":["components/InlinedText.jsx","components/Chart.jsx","components/UserStats.jsx","pages/UserPage.jsx"],"names":["InlinedText","_this$props","this","props","leftText","rightText","align","classes","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","flexContainer","_material_ui_core_Typography_Typography__WEBPACK_IMPORTED_MODULE_6___default","variant","React","PureComponent","defaultProps","withStyles","theme","display","alignItems","justifyContent","flexShrink","paddingRight","spacing","unit","Chart","state","chartType","_this","defaultChart","getColors","size","availableColors","chartColors","i","push","length","getFormattedDataWithRainbowColors","labels","data","keys","datasets","label","backgroundColor","fill","values","getFormattedDataWithOneColor","palette","secondary","main","borderColor","pointBackgroundColor","pointBorderColor","pointBorderWidth","handleChartTypeChange","event","setState","target","value","getChart","react_chartjs_2__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core_Grid_Grid__WEBPACK_IMPORTED_MODULE_11___default","container","item","xs","_material_ui_core_Typography_Typography__WEBPACK_IMPORTED_MODULE_15___default","gutterBottom","title","_material_ui_core_FormControl_FormControl__WEBPACK_IMPORTED_MODULE_7___default","fullWidth","_material_ui_core_InputLabel_InputLabel__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_Select_Select__WEBPACK_IMPORTED_MODULE_9___default","onChange","_material_ui_core_MenuItem_MenuItem__WEBPACK_IMPORTED_MODULE_10___default","_material_ui_core_Paper_Paper__WEBPACK_IMPORTED_MODULE_14___default","paper","withTheme","paddingTop","mixins","gutters","paddingBottom","react_default","Paper_default","Typography_default","formatNumber","totalMessages","totalChars","UserPage","conversationData","undefined","user","location","match","_match$params","params","conversationID","userName","Parser","getConversationData","users","find","_this$state","Slide_default","in","direction","mountOnEnter","unmountOnExit","Grid_default","Toolbar_default","IconButton_default","menuButton","component","Link","to","pathname","encodeURI","concat","ArrowBack_default","flex","noWrap","color","conversationName","components_UserStats","messagesPerMonth","flexWrap","flexGrow","marginLeft","marginRight","withRouter"],"mappings":"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","file":"static/js/3.44a76044.chunk.js","sourcesContent":["/*\r\n * Lucy - Messenger statistics\r\n * Copyright (C) 2018 Vincent M\r\n *\r\n *     This program is free software: you can redistribute it and/or modify\r\n *     it under the terms of the GNU General Public License as published by\r\n *     the Free Software Foundation, either version 3 of the License, or\r\n *     (at your option) any later version.\r\n *\r\n *     This program is distributed in the hope that it will be useful,\r\n *     but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *     GNU General Public License for more details.\r\n *\r\n *     You should have received a copy of the GNU General Public License\r\n *     along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nclass InlinedText extends React.PureComponent {\r\n  render() {\r\n    const { leftText, rightText, align, classes } = this.props;\r\n    return (\r\n      <div className={classes.flexContainer}>\r\n        <Typography\r\n          align={align}\r\n          variant=\"subtitle2\"\r\n          className={classes.leftText}>\r\n          {leftText}\r\n          &nbsp;:\r\n        </Typography>\r\n        <Typography\r\n          align={align}\r\n          variant=\"subtitle1\"\r\n          className={classes.rightText}>\r\n          {rightText}\r\n        </Typography>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  flexContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-start\"\r\n  },\r\n  leftText: {\r\n    flexShrink: 1,\r\n    paddingRight: theme.spacing.unit\r\n  },\r\n  rightText: {\r\n    flexShrink: 2\r\n  }\r\n});\r\n\r\nInlinedText.defaultProps = {\r\n  rightText: \"\",\r\n  align: \"left\"\r\n};\r\n\r\nInlinedText.propTypes = {\r\n  leftText: PropTypes.oneOfType([PropTypes.string, PropTypes.node]).isRequired,\r\n  rightText: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\r\n  align: PropTypes.string,\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(InlinedText);\r\n","/*\r\n * Lucy - Messenger statistics\r\n * Copyright (C) 2018 Vincent M\r\n *\r\n *     This program is free software: you can redistribute it and/or modify\r\n *     it under the terms of the GNU General Public License as published by\r\n *     the Free Software Foundation, either version 3 of the License, or\r\n *     (at your option) any later version.\r\n *\r\n *     This program is distributed in the hope that it will be useful,\r\n *     but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *     GNU General Public License for more details.\r\n *\r\n *     You should have received a copy of the GNU General Public License\r\n *     along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport React from \"react\";\r\nimport {\r\n  Bar,\r\n  Doughnut,\r\n  HorizontalBar,\r\n  Line,\r\n  Polar,\r\n  Radar\r\n} from \"react-chartjs-2\";\r\nimport FormControl from \"@material-ui/core/FormControl/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel/InputLabel\";\r\nimport Select from \"@material-ui/core/Select/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport Grid from \"@material-ui/core/Grid/Grid\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport withTheme from \"@material-ui/core/styles/withTheme\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport PropTypes from \"prop-types\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\n\r\nclass Chart extends React.PureComponent {\r\n  state = {\r\n    chartType: this.props.defaultChart\r\n  };\r\n\r\n  getColors = size => {\r\n    const availableColors = [\r\n      \"rgb(194, 24, 91)\",\r\n      \"rgb(186, 104, 200)\",\r\n      \"rgb(0, 151, 167)\",\r\n      \"rgb(0, 200, 83)\",\r\n      \"rgb(255, 234, 0)\",\r\n      \"rgb(255, 183, 77)\"\r\n    ];\r\n    const chartColors = [];\r\n    for (let i = 0; i < size; i++) {\r\n      chartColors.push(availableColors[i % availableColors.length]);\r\n    }\r\n    return chartColors;\r\n  };\r\n\r\n  getFormattedDataWithRainbowColors = () => ({\r\n    labels: this.props.data.keys,\r\n    datasets: [\r\n      {\r\n        label: this.props.label,\r\n        backgroundColor: this.getColors(this.props.data.size),\r\n        fill: false,\r\n        data: this.props.data.values\r\n      }\r\n    ]\r\n  });\r\n\r\n  getFormattedDataWithOneColor = () => ({\r\n    labels: this.props.data.keys,\r\n    datasets: [\r\n      {\r\n        label: this.props.label,\r\n        backgroundColor: this.props.theme.palette.secondary.main,\r\n        borderColor: this.props.theme.palette.secondary.main,\r\n        pointBackgroundColor: this.props.theme.palette.secondary.main,\r\n        pointBorderColor: this.props.theme.palette.secondary.main,\r\n        pointBorderWidth: 3,\r\n        fill: false,\r\n        data: this.props.data.values\r\n      }\r\n    ]\r\n  });\r\n\r\n  handleChartTypeChange = event =>\r\n    this.setState({ chartType: event.target.value });\r\n\r\n  getChart = () => {\r\n    switch (this.state.chartType) {\r\n      case \"bar\":\r\n        return <Bar data={this.getFormattedDataWithRainbowColors} />;\r\n      case \"horizontalBar\":\r\n        return <HorizontalBar data={this.getFormattedDataWithRainbowColors} />;\r\n      case \"line\":\r\n        return <Line data={this.getFormattedDataWithOneColor} />;\r\n      case \"donut\":\r\n        return <Doughnut data={this.getFormattedDataWithRainbowColors} />;\r\n      case \"polar\":\r\n        return <Polar data={this.getFormattedDataWithRainbowColors} />;\r\n      case \"radar\":\r\n        return <Radar data={this.getFormattedDataWithOneColor} />;\r\n      default:\r\n        return \"default\";\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Grid container spacing={8}>\r\n        <Grid item xs={12}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            {this.props.title}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <FormControl fullWidth>\r\n            <InputLabel>Type de graphique</InputLabel>\r\n            <Select\r\n              value={this.state.chartType}\r\n              onChange={this.handleChartTypeChange}>\r\n              <MenuItem value=\"bar\">Histogramme</MenuItem>\r\n              <MenuItem value=\"horizontalBar\">Histogramme horizontal</MenuItem>\r\n              <MenuItem value=\"line\">Courbe</MenuItem>\r\n              <MenuItem value=\"donut\">Donut</MenuItem>\r\n              <MenuItem value=\"polar\">Aire polaire</MenuItem>\r\n              <MenuItem value=\"radar\">Radar</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Paper className={this.props.classes.paper}>{this.getChart()}</Paper>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    paddingTop: theme.spacing.unit * 1\r\n  }\r\n});\r\n\r\nChart.defaultProps = {\r\n  defaultChart: \"horizontalBar\",\r\n  label: \"\",\r\n  title: \"\"\r\n};\r\n\r\nChart.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  defaultChart: PropTypes.oneOf([\r\n    \"bar\",\r\n    \"horizontalBar\",\r\n    \"line\",\r\n    \"donut\",\r\n    \"polar\",\r\n    \"radar\"\r\n  ]),\r\n  label: PropTypes.string,\r\n  title: PropTypes.string\r\n};\r\n\r\nexport default withTheme()(withStyles(styles)(Chart));\r\n","/*\r\n * Lucy - Messenger statistics\r\n * Copyright (C) 2018 Vincent M\r\n *\r\n *     This program is free software: you can redistribute it and/or modify\r\n *     it under the terms of the GNU General Public License as published by\r\n *     the Free Software Foundation, either version 3 of the License, or\r\n *     (at your option) any later version.\r\n *\r\n *     This program is distributed in the hope that it will be useful,\r\n *     but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *     GNU General Public License for more details.\r\n *\r\n *     You should have received a copy of the GNU General Public License\r\n *     along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport { formatNumber } from \"../utils/Formats\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport PropTypes from \"prop-types\";\r\nimport InlinedText from \"./InlinedText\";\r\n\r\nconst UserStats = props => {\r\n  return (\r\n    <Paper className={props.classes.paper}>\r\n      <Typography variant=\"h6\" align=\"left\" gutterBottom>\r\n        Statistiques\r\n      </Typography>\r\n      <InlinedText\r\n        leftText=\"Nombre total de messages\"\r\n        rightText={formatNumber(props.totalMessages)}\r\n      />\r\n      <InlinedText\r\n        leftText=\"Nombre total de caractères\"\r\n        rightText={formatNumber(props.totalChars)}\r\n      />\r\n      {/*<InlinedText*/}\r\n      {/*leftText=\"Date du premier message\"*/}\r\n      {/*rightText={props.firstMessageDate}*/}\r\n      {/*/>*/}\r\n      {/*<InlinedText*/}\r\n      {/*leftText=\"Date du dernier message\"*/}\r\n      {/*rightText={props.lastMessageDate}*/}\r\n      {/*/>*/}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nconst styles = theme => ({\r\n  paper: theme.mixins.gutters({\r\n    paddingTop: theme.spacing.unit * 2,\r\n    paddingBottom: theme.spacing.unit * 2\r\n  })\r\n});\r\n\r\nUserStats.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  totalMessages: PropTypes.number.isRequired,\r\n  totalChars: PropTypes.number.isRequired\r\n  // firstMessageDate: PropTypes.string.isRequired,\r\n  // lastMessageDate: PropTypes.string.isRequired,\r\n  // conversationDuration: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(UserStats);\r\n","/*\r\n * Lucy - Messenger statistics\r\n * Copyright (C) 2018 Vincent M\r\n *\r\n *     This program is free software: you can redistribute it and/or modify\r\n *     it under the terms of the GNU General Public License as published by\r\n *     the Free Software Foundation, either version 3 of the License, or\r\n *     (at your option) any later version.\r\n *\r\n *     This program is distributed in the hope that it will be useful,\r\n *     but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *     GNU General Public License for more details.\r\n *\r\n *     You should have received a copy of the GNU General Public License\r\n *     along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport React from \"react\";\r\nimport UserStats from \"../components/UserStats.jsx\";\r\nimport Parser from \"../utils/Parser\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid/Grid\";\r\nimport Chart from \"../components/Chart\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport Toolbar from \"@material-ui/core/Toolbar/Toolbar\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport Slide from \"@material-ui/core/Slide/Slide\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\n\r\nclass UserPage extends React.PureComponent {\r\n  state = {\r\n    conversationData: undefined,\r\n    user: undefined\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { location, match } = this.props;\r\n    if (location.conversationData && location.user) {\r\n      this.setState({\r\n        conversationData: location.conversationData,\r\n        user: location.user\r\n      });\r\n    } else {\r\n      const { conversationID, userName } = match.params;\r\n      const conversationData = Parser.getConversationData(conversationID);\r\n      const user = conversationData.users.find(\r\n        user => user.userName === userName\r\n      );\r\n      this.setState({ conversationData, user });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { user, conversationData } = this.state;\r\n\r\n    if (!conversationData) return \"\";\r\n\r\n    return (\r\n      <Slide in direction=\"up\" mountOnEnter unmountOnExit>\r\n        <div>\r\n          <Grid container spacing={32}>\r\n            <Grid item xs={12}>\r\n              <Paper className={classes.paper}>\r\n                <Toolbar>\r\n                  <IconButton\r\n                    className={classes.menuButton}\r\n                    component={Link}\r\n                    to={{\r\n                      pathname: encodeURI(\r\n                        `/${conversationData.conversationID}`\r\n                      ),\r\n                      conversationData\r\n                    }}>\r\n                    <ArrowBackIcon />\r\n                  </IconButton>\r\n                  <div className={classes.flexContainer}>\r\n                    <div className={classes.flex}>\r\n                      <Typography variant=\"h5\">{user.userName}</Typography>\r\n                      <Typography\r\n                        noWrap\r\n                        variant=\"subtitle1\"\r\n                        color=\"textSecondary\">\r\n                        {conversationData.conversationName}\r\n                      </Typography>\r\n                    </div>\r\n                  </div>\r\n                </Toolbar>\r\n              </Paper>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Grid container spacing={16}>\r\n                <Grid item xs={12}>\r\n                  <UserStats\r\n                    totalMessages={user.totalMessages}\r\n                    totalChars={user.totalChars}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <Chart\r\n                    data={user.messagesPerMonth}\r\n                    label=\"Nombre de message\"\r\n                    defaultChart=\"line\"\r\n                    title=\"Nombre de messages au cours du temps\"\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Slide>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  flexContainer: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    flexGrow: 1,\r\n    alignItems: \"center\"\r\n  },\r\n  flex: {\r\n    flexGrow: 1\r\n  },\r\n  title: {\r\n    paddingBottom: theme.spacing.unit * 4\r\n  },\r\n  paper: {\r\n    paddingTop: theme.spacing.unit,\r\n    paddingBottom: theme.spacing.unit\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20\r\n  }\r\n});\r\n\r\n// As we import pages asynchroneously, the IDE thinks the component is unused.\r\n// See AsyncComponent.jsx and AsyncContent.jsx for more details\r\n// noinspection JSUnusedGlobalSymbols\r\nexport default withStyles(styles)(withRouter(UserPage));\r\n"],"sourceRoot":""}