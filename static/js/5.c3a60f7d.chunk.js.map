{"version":3,"sources":["components/Chart.jsx","components/InlinedText.jsx","components/Stats.jsx","components/Members.jsx","pages/ConversationPage.jsx"],"names":["Chart","state","chartType","_this","props","defaultChart","getColors","size","availableColors","chartColors","i","push","length","getFormattedDataWithRainbowColors","labels","data","keys","datasets","label","backgroundColor","fill","values","getFormattedDataWithOneColor","theme","palette","secondary","main","borderColor","pointBackgroundColor","pointBorderColor","pointBorderWidth","handleChartTypeChange","event","setState","target","value","getChart","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_chartjs_2__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core_Grid_Grid__WEBPACK_IMPORTED_MODULE_11___default","container","spacing","item","xs","_material_ui_core_Typography_Typography__WEBPACK_IMPORTED_MODULE_15___default","variant","gutterBottom","this","title","_material_ui_core_FormControl_FormControl__WEBPACK_IMPORTED_MODULE_7___default","fullWidth","_material_ui_core_InputLabel_InputLabel__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_Select_Select__WEBPACK_IMPORTED_MODULE_9___default","onChange","_material_ui_core_MenuItem_MenuItem__WEBPACK_IMPORTED_MODULE_10___default","_material_ui_core_Paper_Paper__WEBPACK_IMPORTED_MODULE_14___default","className","classes","paper","React","PureComponent","defaultProps","withTheme","withStyles","paddingTop","unit","InlinedText","_this$props","leftText","rightText","align","react_default","flexContainer","Typography_default","display","alignItems","justifyContent","flexShrink","paddingRight","mixins","gutters","paddingBottom","Paper_default","components_InlinedText","formatNumber","totalMessages","totalChars","firstMessageDate","lastMessageDate","Members","Grid_default","usersName","sort","map","userName","sm","md","lg","xl","key","flex","IconButton_default","icon","component","Link","to","encodeURI","concat","conversationID","ChevronRight_default","withStyle","flexWrap","flexGrow","padding","marginLeft","ConversationPage","conversationData","undefined","location","match","Parser","getConversationData","params","_this$props2","pathname","allowed","Slide_default","in","direction","mountOnEnter","unmountOnExit","Toolbar_default","menuButton","ArrowBack_default","index_es","color","conversationName","components_Members","users","user","Stats","messageCountPerUser","charCountPerUser","messagesPerMonth","Redirect","marginRight","withRouter"],"mappings":"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","file":"static/js/5.c3a60f7d.chunk.js","sourcesContent":["/*\r\n * Lucy - Messenger statistics\r\n * Copyright (C) 2018 Vincent M\r\n *\r\n *     This program is free software: you can redistribute it and/or modify\r\n *     it under the terms of the GNU General Public License as published by\r\n *     the Free Software Foundation, either version 3 of the License, or\r\n *     (at your option) any later version.\r\n *\r\n *     This program is distributed in the hope that it will be useful,\r\n *     but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *     GNU General Public License for more details.\r\n *\r\n *     You should have received a copy of the GNU General Public License\r\n *     along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport React from \"react\";\r\nimport {\r\n  Bar,\r\n  Doughnut,\r\n  HorizontalBar,\r\n  Line,\r\n  Polar,\r\n  Radar\r\n} from \"react-chartjs-2\";\r\nimport FormControl from \"@material-ui/core/FormControl/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel/InputLabel\";\r\nimport Select from \"@material-ui/core/Select/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport Grid from \"@material-ui/core/Grid/Grid\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport withTheme from \"@material-ui/core/styles/withTheme\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport PropTypes from \"prop-types\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\n\r\nclass Chart extends React.PureComponent {\r\n  state = {\r\n    chartType: this.props.defaultChart\r\n  };\r\n\r\n  getColors = size => {\r\n    const availableColors = [\r\n      \"rgb(194, 24, 91)\",\r\n      \"rgb(186, 104, 200)\",\r\n      \"rgb(0, 151, 167)\",\r\n      \"rgb(0, 200, 83)\",\r\n      \"rgb(255, 234, 0)\",\r\n      \"rgb(255, 183, 77)\"\r\n    ];\r\n    const chartColors = [];\r\n    for (let i = 0; i < size; i++) {\r\n      chartColors.push(availableColors[i % availableColors.length]);\r\n    }\r\n    return chartColors;\r\n  };\r\n\r\n  getFormattedDataWithRainbowColors = () => ({\r\n    labels: this.props.data.keys,\r\n    datasets: [\r\n      {\r\n        label: this.props.label,\r\n        backgroundColor: this.getColors(this.props.data.size),\r\n        fill: false,\r\n        data: this.props.data.values\r\n      }\r\n    ]\r\n  });\r\n\r\n  getFormattedDataWithOneColor = () => ({\r\n    labels: this.props.data.keys,\r\n    datasets: [\r\n      {\r\n        label: this.props.label,\r\n        backgroundColor: this.props.theme.palette.secondary.main,\r\n        borderColor: this.props.theme.palette.secondary.main,\r\n        pointBackgroundColor: this.props.theme.palette.secondary.main,\r\n        pointBorderColor: this.props.theme.palette.secondary.main,\r\n        pointBorderWidth: 3,\r\n        fill: false,\r\n        data: this.props.data.values\r\n      }\r\n    ]\r\n  });\r\n\r\n  handleChartTypeChange = event =>\r\n    this.setState({ chartType: event.target.value });\r\n\r\n  getChart = () => {\r\n    switch (this.state.chartType) {\r\n      case \"bar\":\r\n        return <Bar data={this.getFormattedDataWithRainbowColors} />;\r\n      case \"horizontalBar\":\r\n        return <HorizontalBar data={this.getFormattedDataWithRainbowColors} />;\r\n      case \"line\":\r\n        return <Line data={this.getFormattedDataWithOneColor} />;\r\n      case \"donut\":\r\n        return <Doughnut data={this.getFormattedDataWithRainbowColors} />;\r\n      case \"polar\":\r\n        return <Polar data={this.getFormattedDataWithRainbowColors} />;\r\n      case \"radar\":\r\n        return <Radar data={this.getFormattedDataWithOneColor} />;\r\n      default:\r\n        return \"default\";\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Grid container spacing={8}>\r\n        <Grid item xs={12}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            {this.props.title}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <FormControl fullWidth>\r\n            <InputLabel>Type de graphique</InputLabel>\r\n            <Select\r\n              value={this.state.chartType}\r\n              onChange={this.handleChartTypeChange}>\r\n              <MenuItem value=\"bar\">Histogramme</MenuItem>\r\n              <MenuItem value=\"horizontalBar\">Histogramme horizontal</MenuItem>\r\n              <MenuItem value=\"line\">Courbe</MenuItem>\r\n              <MenuItem value=\"donut\">Donut</MenuItem>\r\n              <MenuItem value=\"polar\">Aire polaire</MenuItem>\r\n              <MenuItem value=\"radar\">Radar</MenuItem>\r\n            </Select>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Paper className={this.props.classes.paper}>{this.getChart()}</Paper>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  paper: {\r\n    paddingTop: theme.spacing.unit * 1\r\n  }\r\n});\r\n\r\nChart.defaultProps = {\r\n  defaultChart: \"horizontalBar\",\r\n  label: \"\",\r\n  title: \"\"\r\n};\r\n\r\nChart.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  defaultChart: PropTypes.oneOf([\r\n    \"bar\",\r\n    \"horizontalBar\",\r\n    \"line\",\r\n    \"donut\",\r\n    \"polar\",\r\n    \"radar\"\r\n  ]),\r\n  label: PropTypes.string,\r\n  title: PropTypes.string\r\n};\r\n\r\nexport default withTheme()(withStyles(styles)(Chart));\r\n","/*\r\n * Lucy - Messenger statistics\r\n * Copyright (C) 2018 Vincent M\r\n *\r\n *     This program is free software: you can redistribute it and/or modify\r\n *     it under the terms of the GNU General Public License as published by\r\n *     the Free Software Foundation, either version 3 of the License, or\r\n *     (at your option) any later version.\r\n *\r\n *     This program is distributed in the hope that it will be useful,\r\n *     but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *     GNU General Public License for more details.\r\n *\r\n *     You should have received a copy of the GNU General Public License\r\n *     along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nclass InlinedText extends React.PureComponent {\r\n  render() {\r\n    const { leftText, rightText, align, classes } = this.props;\r\n    return (\r\n      <div className={classes.flexContainer}>\r\n        <Typography\r\n          align={align}\r\n          variant=\"subtitle2\"\r\n          className={classes.leftText}>\r\n          {leftText}&nbsp;:\r\n        </Typography>\r\n        <Typography align={align} variant=\"subtitle1\" className={classes.rightText}>\r\n          {rightText}\r\n        </Typography>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  flexContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-start\"\r\n  },\r\n  leftText: {\r\n    flexShrink: 1,\r\n    paddingRight: theme.spacing.unit\r\n  },\r\n  rightText: {\r\n    flexShrink: 2\r\n  }\r\n});\r\n\r\nInlinedText.defaultProps = {\r\n  rightText: \"\",\r\n  align: \"left\"\r\n};\r\n\r\nInlinedText.propTypes = {\r\n  leftText: PropTypes.oneOfType([PropTypes.string, PropTypes.node]).isRequired,\r\n  rightText: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\r\n  align: PropTypes.string,\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(InlinedText);\r\n","/*\r\n * Lucy - Messenger statistics\r\n * Copyright (C) 2018 Vincent M\r\n *\r\n *     This program is free software: you can redistribute it and/or modify\r\n *     it under the terms of the GNU General Public License as published by\r\n *     the Free Software Foundation, either version 3 of the License, or\r\n *     (at your option) any later version.\r\n *\r\n *     This program is distributed in the hope that it will be useful,\r\n *     but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *     GNU General Public License for more details.\r\n *\r\n *     You should have received a copy of the GNU General Public License\r\n *     along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport { formatNumber } from \"../utils/Formats\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport PropTypes from \"prop-types\";\r\nimport InlinedText from \"./InlinedText\";\r\n\r\nconst Stats = props => {\r\n  return (\r\n    <Paper className={props.classes.paper}>\r\n      <Typography variant=\"h6\" align=\"left\" gutterBottom>\r\n        Statistiques\r\n      </Typography>\r\n      <InlinedText\r\n        leftText=\"Nombre total de messages\"\r\n        rightText={formatNumber(props.totalMessages)}\r\n      />\r\n      <InlinedText\r\n        leftText=\"Nombre total de caractères\"\r\n        rightText={formatNumber(props.totalChars)}\r\n      />\r\n      <InlinedText\r\n        leftText=\"Date du premier message\"\r\n        rightText={props.firstMessageDate}\r\n      />\r\n      <InlinedText\r\n        leftText=\"Date du dernier message\"\r\n        rightText={props.lastMessageDate}\r\n      />\r\n    </Paper>\r\n  );\r\n};\r\n\r\nconst styles = theme => ({\r\n  paper: theme.mixins.gutters({\r\n    paddingTop: theme.spacing.unit * 2,\r\n    paddingBottom: theme.spacing.unit * 2\r\n  })\r\n});\r\n\r\nStats.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  totalMessages: PropTypes.number.isRequired,\r\n  totalChars: PropTypes.number.isRequired,\r\n  firstMessageDate: PropTypes.string.isRequired,\r\n  lastMessageDate: PropTypes.string.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(Stats);\r\n","/*\r\n * Lucy - Messenger statistics\r\n * Copyright (C) 2018 Vincent M\r\n *\r\n *     This program is free software: you can redistribute it and/or modify\r\n *     it under the terms of the GNU General Public License as published by\r\n *     the Free Software Foundation, either version 3 of the License, or\r\n *     (at your option) any later version.\r\n *\r\n *     This program is distributed in the hope that it will be useful,\r\n *     but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *     GNU General Public License for more details.\r\n *\r\n *     You should have received a copy of the GNU General Public License\r\n *     along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Grid from \"@material-ui/core/Grid/Grid\";\r\nimport Typography from \"@material-ui/core/Typography/Typography\";\r\nimport { Link } from \"react-router-dom\";\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport withStyle from \"@material-ui/core/styles/withStyles\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\n\r\nconst Members = props => (\r\n  <Grid container spacing={16}>\r\n    <Grid item xs={12}>\r\n      <Typography variant=\"h5\">\r\n        Membres de la conversation ({props.usersName.length})\r\n      </Typography>\r\n    </Grid>\r\n    {props.usersName.sort().map(userName => (\r\n      <Grid item xs={6} sm={4} md={3} lg={2} xl={1} key={userName}>\r\n        <Paper className={props.classes.paper}>\r\n          <div className={props.classes.flexContainer}>\r\n            <div className={props.classes.flex}>\r\n              <Typography variant=\"subtitle2\">{userName}</Typography>\r\n            </div>\r\n            <div>\r\n              <IconButton\r\n                className={props.classes.icon}\r\n                size=\"small\"\r\n                component={Link}\r\n                to={encodeURI(`/${props.conversationID}/${userName}`)}>\r\n                <ChevronRightIcon />\r\n              </IconButton>\r\n            </div>\r\n          </div>\r\n        </Paper>\r\n      </Grid>\r\n    ))}\r\n  </Grid>\r\n);\r\n\r\nconst styles = theme => ({\r\n  flexContainer: {\r\n    display: \"flex\",\r\n    flexWrap: \"nowrap\",\r\n    flexGrow: 1,\r\n    alignItems: \"center\"\r\n  },\r\n  flex: {\r\n    flexGrow: 1\r\n  },\r\n  paper: {\r\n    padding: theme.spacing.unit\r\n  },\r\n  icon: {\r\n    marginLeft: theme.spacing.unit\r\n  }\r\n});\r\n\r\nMembers.defaultProps = {\r\n  usersName: []\r\n};\r\n\r\nMembers.propTypes = {\r\n  conversationID: PropTypes.string.isRequired,\r\n  usersName: PropTypes.arrayOf(PropTypes.string)\r\n};\r\n\r\nexport default withStyle(styles)(Members);\r\n","/*\r\n * Lucy - Messenger statistics\r\n * Copyright (C) 2018 Vincent M\r\n *\r\n *     This program is free software: you can redistribute it and/or modify\r\n *     it under the terms of the GNU General Public License as published by\r\n *     the Free Software Foundation, either version 3 of the License, or\r\n *     (at your option) any later version.\r\n *\r\n *     This program is distributed in the hope that it will be useful,\r\n *     but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *     GNU General Public License for more details.\r\n *\r\n *     You should have received a copy of the GNU General Public License\r\n *     along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n */\r\n\r\nimport React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Parser from \"../utils/Parser\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Grid from \"@material-ui/core/Grid/Grid\";\r\nimport Chart from \"../components/Chart\";\r\nimport Members from \"../components/Members\";\r\nimport Slide from \"@material-ui/core/Slide/Slide\";\r\nimport { Link, Redirect, withRouter } from \"react-router-dom\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport Toolbar from \"@material-ui/core/Toolbar/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton/IconButton\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport Stats from \"../components/Stats\";\r\n\r\nclass ConversationPage extends React.PureComponent {\r\n  state = {\r\n    conversationData: undefined\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { location, match } = this.props;\r\n    if (location.conversationData) {\r\n      this.setState({ conversationData: location.conversationData });\r\n    } else {\r\n      this.setState({\r\n        conversationData: Parser.getConversationData(\r\n          match.params.conversationID\r\n        )\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { conversationData } = this.state;\r\n    const { location, classes } = this.props;\r\n\r\n    if (location.pathname === \"/scarlettjohansson\" && !location.allowed)\r\n      return <Redirect to=\"/\" />;\r\n\r\n    if (!conversationData) return \"\";\r\n\r\n    return (\r\n      <Slide in direction=\"up\" mountOnEnter unmountOnExit>\r\n        <div>\r\n          <Grid container spacing={32}>\r\n            <Grid item xs={12}>\r\n              <Paper className={classes.paper}>\r\n                <Toolbar>\r\n                  <div className={classes.flexContainer}>\r\n                    <IconButton\r\n                      className={classes.menuButton}\r\n                      component={Link}\r\n                      to=\"/\">\r\n                      <ArrowBackIcon />\r\n                    </IconButton>\r\n                    <div className={classes.flex}>\r\n                      <Typography variant=\"h5\" align=\"left\" color=\"textPrimary\">\r\n                        {conversationData.conversationName}\r\n                      </Typography>\r\n                    </div>\r\n                  </div>\r\n                </Toolbar>\r\n              </Paper>\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Members\r\n                usersName={conversationData.users.map(user => user.userName)}\r\n                conversationID={conversationData.conversationID}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Stats\r\n                totalMessages={conversationData.totalMessages}\r\n                totalChars={conversationData.totalChars}\r\n                firstMessageDate={conversationData.firstMessageDate}\r\n                lastMessageDate={conversationData.lastMessageDate}\r\n\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Chart\r\n                data={conversationData.messageCountPerUser}\r\n                label=\"Nombre de messages\"\r\n                defaultChart=\"bar\"\r\n                title=\"Nombre de messages total\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Chart\r\n                data={conversationData.charCountPerUser}\r\n                label=\"Nombre de caractères\"\r\n                defaultChart=\"bar\"\r\n                title=\"Nombre de caractères total\"\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12}>\r\n              <Chart\r\n                data={conversationData.messagesPerMonth}\r\n                label=\"Nombre de messages\"\r\n                defaultChart=\"line\"\r\n                title=\"Nombre de messages au cours du temps\"\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Slide>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = theme => ({\r\n  menuButton: {\r\n    marginRight: theme.spacing.unit\r\n  },\r\n  paper: {\r\n    paddingTop: theme.spacing.unit,\r\n    paddingBottom: theme.spacing.unit\r\n  },\r\n  flexContainer: {\r\n    display: \"flex\",\r\n    flexWrap: \"noWrap\",\r\n    flexGrow: 1,\r\n    alignItems: \"center\"\r\n  },\r\n  flex: {\r\n    flexGrow: 1\r\n  }\r\n});\r\n\r\n// As we import pages asynchroneously, the IDE thinks the component is unused.\r\n// See AsyncComponent.jsx and AsyncContent.jsx for more details\r\n// noinspection JSUnusedGlobalSymbols\r\nexport default withStyles(styles)(withRouter(ConversationPage));\r\n"],"sourceRoot":""}